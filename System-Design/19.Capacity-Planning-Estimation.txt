#########################################################################
ğŸ”· Capacity Planning and Estimation: How Much Data YouTube Stores Daily
#########################################################################
ğŸ”„ Interview Framing
â¤ In system design interviews, exact real numbers are NOT expected.
â¤ What is expected:
    âœ”ï¸ Reasonable, industry-aligned assumptions
    âœ”ï¸ Correct order of magnitude
    âœ”ï¸ Ability to explain why an assumption is chosen
ğŸ‘‰ Below assumptions are closer to real-world YouTube-scale systems and safe to use in interviews.


ğŸ”„ User Base & Upload Behavior
ğŸŒŸ Active Users
â¤ Monthly active users (MAU): ~2.5 billion (public estimates)
â¤ Daily active users (DAU): ~40â€“50% of MAU
â¤ Assume 1 billion daily active users âœ… (good interview assumption)

ğŸŒŸ Uploading Users
â¤ Not 1/1000 users upload daily (too high)
â¤ Realistically:
    âœ”ï¸ ~0.05%â€“0.1% users upload content daily

ğŸ‘‰ Final Assumption
 0.1% of DAU upload 1 video/day
 1B Ã— 0.001 = 1 million uploads/day âœ…
ğŸ‘‰ (This aligns with public upload statistics)


ğŸ”„Number of Videos Uploaded Per Day (Real Data Validation)
ğŸŒŸ Publicly Known Metric
 ~500 hours of video uploaded per minute

ğŸŒŸ Convert to Daily Upload Volume
 500 hours/min Ã— 1440 min/day = 720,000 hours/day
 Average video length â‰ˆ 8â€“12 minutes
 Assume 10 minutes/video

ğŸŒŸ Videos per Day
 720,000 hours = 43.2 million minutes
 43.2M / 10 â‰ˆ 4.3 million videos/day

ğŸ‘‰ Safe Rounded Value
~4â€“5 million videos/day


ğŸ”„ Average Video Size (Corrected & Realistic)
 Common Mistake (Avoid)

 Frame-based estimation (raw frames) âŒ
 Videos are heavily compressed using codecs

ğŸŒŸ Realistic Compression Metrics
â¤ Codec: H.264 / VP9 / AV1
â¤ Average bitrate for 720p:
    âœ”ï¸ ~2â€“3 Mbps

ğŸŒŸ Storage per 10-Min Video
â¤ 2.5 Mbps Ã— 600 sec â‰ˆ 1.5 Gb â‰ˆ ~190 MB

ğŸ‘‰ Safe Assumption
â¤ 200 MB per uploaded video (original)
(This is far more accurate than 1 GB)


ğŸ”„ Raw Storage Per Day (Original Uploads)
â¤ Videos/day: ~4.5 million
â¤ Size/video: ~200 MB

ğŸŒŸ Daily Raw Storage
â¤ 4.5M Ã— 200 MB = 900 TB/day â‰ˆ ~1 PB/day âœ…


ğŸ”„ Replication for Fault Tolerance
ğŸŒŸ Realistic Replication Factor
â¤ Distributed object stores (GFS / Colossus / S3-style):
    âœ”ï¸ 3 replicas

ğŸŒŸ Raw Storage with Replication
1 PB Ã— 3 = 3 PB/day


ğŸ”„ Processed & Transcoded Video Storage
ğŸŒŸ Why Transcoding Is Required
â¤ Adaptive streaming (DASH / HLS)
â¤ Multiple devices & network conditions

ğŸŒŸ Typical Renditions Stored
â¤ 1080p (some videos)
â¤ 720p
â¤ 480p
â¤ 360p
â¤ 240p
â¤ 144p

ğŸŒŸ Storage Expansion Factor (Industry-Used)
â¤ Transcoding increases storage by ~2â€“2.5Ã— original size

ğŸŒŸ Processed Storage Per Day
â¤ 1 PB Ã— 2.5 â‰ˆ 2.5 PB/day
â¤ With replication:
    âœ”ï¸ 2.5 PB Ã— 3 = 7.5 PB/day


ğŸ”„ Total Daily Storage Requirement
| Component                      | Storage           |
| ------------------------------ | ----------------- |
| Raw uploads (replicated)       | ~3 PB             |
| Transcoded videos (replicated) | ~7.5 PB           |
| Total per day              | ~10â€“11 PB/day |
âœ… Very close to real-world scale estimates


ğŸ”„ Metadata Storage & Cache Estimation
ğŸŒŸ Metadata Per Video
â¤ Video ID, title, tags, description
â¤ Creator ID
â¤ Duration, resolution list
â¤ Counters (views, likes)

ğŸŒŸ Size Assumption
â¤ ~2â€“3 KB per video (not 5 KB)

ğŸŒŸ Daily Metadata Growth
â¤ 4.5M Ã— 3 KB â‰ˆ ~13.5 GB/day

ğŸŒŸ Caching Strategy
â¤ Cache only hot videos (~1â€“2%)
â¤ Assume 100M hot videos total

ğŸŒŸ Cache Size
â¤ 100M Ã— 3 KB â‰ˆ ~300 GB RAM
â¤ Implemented via Redis / Memcached


ğŸ”„ Video Encoding Compute Requirement
ğŸŒŸ Encoding Cost (Industry Approximation)
 Encoding 1 minute of video â‰ˆ 1â€“2 CPU minutes

ğŸŒŸ Daily Encoding Work
â¤ 720,000 hours/day = 43.2M minutes/day
â¤ CPU minutes required:
    âœ”ï¸ ~60M CPU minutes/day

ğŸŒŸ CPU Core Requirement
â¤ 1 core/day capacity â‰ˆ 1440 minutes
â¤ 60M / 1440 â‰ˆ ~42,000 CPU cores

ğŸŒŸ Scaling Strategy
â¤ Distributed encoding pipeline
â¤ Spot instances / batch processing
â¤ Priority-based encoding (popular videos first)


ğŸ”„ Cost Perspective (High-Level)
â¤ Storage cost (hyperscale): ~$20/TB/year
â¤ 10 PB/day growth â†’ ~3.6 EB/year
â¤ Annual storage cost alone: $70â€“80M/year
â¤ Multi-year cost â†’ Hundreds of millions to billions USD
